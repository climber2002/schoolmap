<%# encoding: utf-8 %>
<%# Clear the original highlighted area %>
highlightedPolygon.setMap(null);


(function() {

  <%# set highlighted area only to the selected province -%>
  var wholeWorld = [
    new google.maps.LatLng(-180, -90),
    new google.maps.LatLng(-180, 90),
    new google.maps.LatLng(180, 90),
    new google.maps.LatLng(180, -90)
  ];

  <%# hide provinces data -%>
  if(provincesData) {
    provincesData.setMap(null);
  }

  var provinceArea = [wholeWorld];

  <% @province.geom.each do |polygon| %>
    provinceArea.push(<%= polygon_to_gmap_points_array polygon -%>);
  <% end %>


  highlightedPolygon = new google.maps.Polygon({
    paths: provinceArea,
    strokeColor: "#000000",
    strokeOpacity: 0.8,
    strokeWeight: 2,
    fillColor: "#ffffff",
    fillOpacity: 1
  });

  highlightedPolygon.setMap(map);

})();


